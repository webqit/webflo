import{_ as a,c as e,o as n,a2 as o}from"./chunks/framework.9Uv4PgnO.js";const D=JSON.parse('{"title":"State Management","description":"","frontmatter":{},"headers":[],"relativePath":"docs/concepts/state.md","filePath":"docs/concepts/state.md"}'),t={name:"docs/concepts/state.md"};function l(r,s,p,c,i,y){return n(),e("div",null,[...s[0]||(s[0]=[o(`<h1 id="state-management" tabindex="-1">State Management <a class="header-anchor" href="#state-management" aria-label="Permalink to &quot;State Management&quot;">​</a></h1><p>Webflo’s approach to state is refreshingly simple: your UI state is just a plain JavaScript object. When your server handler returns data, it becomes available as <code>document.bindings.data</code> for your templates and UI. No special syntax, no framework-specific magic—just JavaScript you already know.</p><h2 id="how-state-flows" tabindex="-1">How State Flows <a class="header-anchor" href="#how-state-flows" aria-label="Permalink to &quot;How State Flows&quot;">​</a></h2><p>When a request comes in:</p><ol><li>Your handler fetches or computes data.</li><li>That data is returned in the response.</li><li>Webflo assigns it to <code>document.bindings.data</code> on the client.</li><li>Your templates and UI render based on this state.</li></ol><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#676E95;font-style:italic;">// In your handler</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#89DDFF;"> new</span><span style="color:#82AAFF;"> Response</span><span style="color:#BABED8;">(</span><span style="color:#82AAFF;">renderToHtml</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> todos</span><span style="color:#89DDFF;">:</span><span style="color:#BABED8;"> [</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Buy milk</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> &quot;</span><span style="color:#C3E88D;">Read docs</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">] </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">))</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// In the browser</span></span>
<span class="line"><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#BABED8;">(document</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">bindings</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">data</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">todos)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // [&quot;Buy milk&quot;, &quot;Read docs&quot;]</span></span></code></pre></div><h2 id="reactivity-with-the-observer-api" tabindex="-1">Reactivity with the Observer API <a class="header-anchor" href="#reactivity-with-the-observer-api" aria-label="Permalink to &quot;Reactivity with the Observer API&quot;">​</a></h2><p>Want your UI to update automatically when state changes? Webflo’s Observer API lets you observe mutations on your state object and react to them—no new syntax or learning curve required.</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki material-theme-palenight vp-code" tabindex="0"><code><span class="line"><span style="color:#82AAFF;">Observer</span><span style="color:#BABED8;">(document</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">bindings</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">data</span><span style="color:#89DDFF;">,</span><span style="color:#89DDFF;"> ()</span><span style="color:#C792EA;"> =&gt;</span><span style="color:#89DDFF;"> {</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">  // This runs whenever data changes</span></span>
<span class="line"><span style="color:#82AAFF;">  renderUI</span><span style="color:#F07178;">()</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">document</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">bindings</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">data</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">todos</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">push</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Write code</span><span style="color:#89DDFF;">&quot;</span><span style="color:#BABED8;">)</span><span style="color:#89DDFF;">;</span><span style="color:#676E95;font-style:italic;"> // UI updates!</span></span></code></pre></div><blockquote><p><strong>Why it matters:</strong> This “back to basics” approach means you can use all your JavaScript skills, with reactivity as an opt-in superpower. No hidden magic—just objects and events.</p></blockquote><h2 id="when-to-use-observer" tabindex="-1">When to Use Observer <a class="header-anchor" href="#when-to-use-observer" aria-label="Permalink to &quot;When to Use Observer&quot;">​</a></h2><ul><li>For live-updating UI (counters, lists, dashboards)</li><li>For collaborative or realtime features</li><li>For any case where you want the UI to reflect state changes instantly</li></ul><h2 id="learn-more" tabindex="-1">Learn More <a class="header-anchor" href="#learn-more" aria-label="Permalink to &quot;Learn More&quot;">​</a></h2><ul><li><a href="./rendering">Rendering</a></li><li><a href="./realtime">Realtime</a></li><li><a href="./../api/observer">API: Observer</a></li></ul>`,14)])])}const F=a(t,[["render",l]]);export{D as __pageData,F as default};
